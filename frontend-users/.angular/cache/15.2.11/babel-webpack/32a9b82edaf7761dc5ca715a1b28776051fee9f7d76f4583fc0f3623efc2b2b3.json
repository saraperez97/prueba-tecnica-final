{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/paginator\";\nimport * as i9 from \"src/app/components/target-component/target.component\";\nfunction UserListComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"app-target\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"user\", user_r1);\n  }\n}\nexport class UserListComponent {\n  constructor(userServices, fb) {\n    this.userServices = userServices;\n    this.fb = fb;\n    this.users = [];\n    this.paginatedUsers = [];\n    this.length = 0;\n    this.pageSize = 5;\n    this.pageIndex = 0;\n    this.pageSizeOptions = [5, 10, 25];\n    this.form = this.fb.group({\n      search: ['']\n    });\n  }\n  ngOnInit() {\n    this.fetchUsers();\n  }\n  fetchUsers() {\n    const searchValue = this.form.get('search')?.value;\n    this.userServices.fetchUsers(searchValue).subscribe(({\n      users\n    }) => {\n      this.users = users;\n      this.length = users.length;\n      this.updatePaginatedUsers();\n    });\n  }\n  handlePageEvent(event) {\n    this.pageIndex = event.pageIndex;\n    this.pageSize = event.pageSize;\n    this.updatePaginatedUsers();\n  }\n  updatePaginatedUsers() {\n    const startIndex = this.pageIndex * this.pageSize;\n    const endIndex = startIndex + this.pageSize;\n    this.paginatedUsers = this.users.slice(startIndex, endIndex);\n  }\n  static {\n    this.ɵfac = function UserListComponent_Factory(t) {\n      return new (t || UserListComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserListComponent,\n      selectors: [[\"app-user-list\"]],\n      decls: 13,\n      vars: 6,\n      consts: [[1, \"container\", 3, \"formGroup\"], [1, \"main-title\"], [\"matHeader\", \"\"], [1, \"justify-between\"], [\"appearance\", \"outline\", 1, \"mr-3\"], [\"formControlName\", \"search\", \"matInput\", \"\", \"placeholder\", \"Buscar...\"], [\"mat-raised-button\", \"\", 1, \"ml-3\", 3, \"click\"], [\"class\", \"container\", 4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"Select page\", 3, \"length\", \"pageSize\", \"pageSizeOptions\", \"pageIndex\", \"page\"], [1, \"container\"], [3, \"user\"]],\n      template: function UserListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"form\", 0)(1, \"mat-card-header\", 1)(2, \"h3\", 2);\n          i0.ɵɵtext(3, \"Listado de usuarios\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"mat-form-field\", 4)(6, \"mat-label\");\n          i0.ɵɵtext(7, \"Buscar\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"input\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function UserListComponent_Template_button_click_9_listener() {\n            return ctx.fetchUsers();\n          });\n          i0.ɵɵtext(10, \"Buscar\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(11, UserListComponent_div_11_Template, 2, 1, \"div\", 7);\n          i0.ɵɵelementStart(12, \"mat-paginator\", 8);\n          i0.ɵɵlistener(\"page\", function UserListComponent_Template_mat_paginator_page_12_listener($event) {\n            return ctx.handlePageEvent($event);\n          });\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngForOf\", ctx.paginatedUsers);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"length\", ctx.length)(\"pageSize\", ctx.pageSize)(\"pageSizeOptions\", ctx.pageSizeOptions)(\"pageIndex\", ctx.pageIndex);\n        }\n      },\n      dependencies: [i3.NgForOf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i4.MatButton, i5.MatFormField, i5.MatLabel, i6.MatInput, i7.MatCardHeader, i8.MatPaginator, i9.TargetComponent],\n      styles: [\".main-title[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtBQUN6QiIsImZpbGUiOiJ1c2VyLWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluLXRpdGxlIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvdXNlci1saXN0L3VzZXItbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtBQUN6Qjs7QUFFQSxvV0FBb1ciLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbi10aXRsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;;;;;;;IAaAA,8BAA2D;IACzDA,iCAAuC;IACzCA,iBAAM;;;;IADQA,eAAa;IAAbA,8BAAa;;;ACF3B,OAAM,MAAOC,iBAAiB;EAU5BC,YAAoBC,YAAyB,EAAUC,EAAe;IAAlD,iBAAY,GAAZD,YAAY;IAAuB,OAAE,GAAFC,EAAE;IATzD,UAAK,GAAW,EAAE;IAClB,mBAAc,GAAW,EAAE;IAG3B,WAAM,GAAG,CAAC;IACV,aAAQ,GAAG,CAAC;IACZ,cAAS,GAAG,CAAC;IACb,oBAAe,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;IAG3B,IAAI,CAACC,IAAI,GAAG,IAAI,CAACD,EAAE,CAACE,KAAK,CAAC;MACxBC,MAAM,EAAE,CAAC,EAAE;KACZ,CAAC;EACJ;EAEAC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAA,UAAU;IACR,MAAMC,WAAW,GAAG,IAAI,CAACL,IAAI,CAACM,GAAG,CAAC,QAAQ,CAAC,EAAEC,KAAe;IAC5D,IAAI,CAACT,YAAY,CAACM,UAAU,CAACC,WAAW,CAAC,CAACG,SAAS,CAAC,CAAC;MAAEC;IAAK,CAAE,KAAI;MAChE,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACC,MAAM,GAAGD,KAAK,CAACC,MAAM;MAC1B,IAAI,CAACC,oBAAoB,EAAE;IAC7B,CAAC,CAAC;EACJ;EAEAC,eAAe,CAACC,KAAgB;IAC9B,IAAI,CAACC,SAAS,GAAGD,KAAK,CAACC,SAAS;IAChC,IAAI,CAACC,QAAQ,GAAGF,KAAK,CAACE,QAAQ;IAC9B,IAAI,CAACJ,oBAAoB,EAAE;EAC7B;EAEAA,oBAAoB;IAClB,MAAMK,UAAU,GAAG,IAAI,CAACF,SAAS,GAAG,IAAI,CAACC,QAAQ;IACjD,MAAME,QAAQ,GAAGD,UAAU,GAAG,IAAI,CAACD,QAAQ;IAC3C,IAAI,CAACG,cAAc,GAAG,IAAI,CAACT,KAAK,CAACU,KAAK,CAACH,UAAU,EAAEC,QAAQ,CAAC;EAC9D;;;uBAvCWrB,iBAAiB;IAAA;EAAA;;;YAAjBA,iBAAiB;MAAAwB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDZ9B7B,+BAA2C;UAEzBA,mCAAmB;UAAAA,iBAAK;UAExCA,8BAA6B;UAEdA,sBAAM;UAAAA,iBAAY;UAC7BA,2BAAmE;UACrEA,iBAAiB;UACjBA,iCAA8D;UAApCA;YAAA,OAAS8B,gBAAY;UAAA,EAAC;UAAc9B,uBAAM;UAAAA,iBAAS;UAIjFA,oEAEM;UAENA,yCAOC;UANCA;YAAA,OAAQ8B,2BAAuB;UAAA,EAAC;UAOlC9B,iBAAgB;;;UAzBVA,oCAAkB;UAaFA,gBAAiB;UAAjBA,4CAAiB;UAMrCA,eAAiB;UAAjBA,mCAAiB","names":["i0","UserListComponent","constructor","userServices","fb","form","group","search","ngOnInit","fetchUsers","searchValue","get","value","subscribe","users","length","updatePaginatedUsers","handlePageEvent","event","pageIndex","pageSize","startIndex","endIndex","paginatedUsers","slice","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/saraperezvalencia/PRUEBA_TECNICA_FINAL/frontend-users/src/app/pages/user-list/user-list.component.html","/Users/saraperezvalencia/PRUEBA_TECNICA_FINAL/frontend-users/src/app/pages/user-list/user-list.component.ts"],"sourcesContent":["<form [formGroup]=\"form\" class=\"container\">\n  <mat-card-header class=\"main-title\">\n    <h3 matHeader>Listado de usuarios</h3>\n  </mat-card-header>\n  <div class=\"justify-between\">\n    <mat-form-field appearance=\"outline\" class=\"mr-3\">\n      <mat-label>Buscar</mat-label>\n      <input formControlName=\"search\" matInput placeholder=\"Buscar...\" />\n    </mat-form-field>\n    <button mat-raised-button (click)=\"fetchUsers()\" class=\"ml-3\">Buscar</button>\n  </div>\n</form>\n\n<div *ngFor=\"let user of paginatedUsers\" class=\"container\">\n  <app-target [user]=\"user\"></app-target>\n</div>\n\n<mat-paginator\n  (page)=\"handlePageEvent($event)\"\n  [length]=\"length\"\n  [pageSize]=\"pageSize\"\n  [pageSizeOptions]=\"pageSizeOptions\"\n  [pageIndex]=\"pageIndex\"\n  aria-label=\"Select page\"\n>\n</mat-paginator>\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { UserService } from 'src/app/services/user.service';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { PageEvent } from '@angular/material/paginator';\nimport { User } from 'src/app/models/User';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css'],\n})\nexport class UserListComponent implements OnInit {\n  users: User[] = [];\n  paginatedUsers: User[] = [];\n  form: FormGroup;\n\n  length = 0;\n  pageSize = 5;\n  pageIndex = 0;\n  pageSizeOptions = [5, 10, 25];\n\n  constructor(private userServices: UserService, private fb: FormBuilder) {\n    this.form = this.fb.group({\n      search: [''],\n    });\n  }\n\n  ngOnInit(): void {\n    this.fetchUsers();\n  }\n\n  fetchUsers(): void {\n    const searchValue = this.form.get('search')?.value as string;\n    this.userServices.fetchUsers(searchValue).subscribe(({ users }) => {\n      this.users = users;\n      this.length = users.length;\n      this.updatePaginatedUsers();\n    });\n  }\n\n  handlePageEvent(event: PageEvent) {\n    this.pageIndex = event.pageIndex;\n    this.pageSize = event.pageSize;\n    this.updatePaginatedUsers();\n  }\n\n  updatePaginatedUsers(): void {\n    const startIndex = this.pageIndex * this.pageSize;\n    const endIndex = startIndex + this.pageSize;\n    this.paginatedUsers = this.users.slice(startIndex, endIndex);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}